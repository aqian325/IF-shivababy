<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style/main.css">
  <link href="https://fonts.googleapis.com/css2?family=Gluten:wght@100;200;300;700&display=swap" rel="stylesheet">
  <title>cringe as horror</title>
  <script language="javascript" type="text/javascript" src="libraries/p5.min.js"></script>
  <script language="javascript" type="text/javascript" src="popup.js"></script>
</head>

<body>


  <div class="tooltip">where is your phone???</div>

  <div class="container">
    <div class="typing-effect2" id="typingEffect2" style="line-height: 1.5 !important;">
      <!-- Text will be typed here -->
    </div>
    <!-- <div class="bubble-container">
      <img src="images/bubble1.png" alt="Bubble" id="bubbleImage" style="display: none;">
      <div class="bubble-text" id="bubbleText">what</div>
    </div> -->
    <button class="bubble-button" onclick="openPopups()">uh oh</button>

  </div>
  <script>
    // Get the tooltip element
    const tooltip = document.querySelector('.tooltip');
  
    // Move the tooltip along with the mouse cursor
    document.addEventListener('mousemove', function (event) {
        tooltip.style.left = (event.clientX + 10) + 'px';
        tooltip.style.top = (event.clientY + 10) + 'px';
    });
  </script>
  
  <script>
    // Delay the appearance of the link after 3 minutes (180,000 milliseconds)
    setTimeout(function() {
        var link = document.createElement('a');
        link.href = 'explanation.html';
        var button = document.createElement('button');
        button.textContent = "leave";
        link.appendChild(button);
        document.body.appendChild(link);
    }, 30000); // 30 sec in milliseconds
  </script>
  <script>
    // Text to be typed out
    const text = `You're feeling peckish. <br>
                  Head over to the snack table. <br><br>
                  Just as you're browsing your options...`;

    // Function to simulate typing effect
    function typeWriter(text, i, speed) {
      const container = document.getElementById("typingEffect2");
      if (i < text.length) {
        // Check if the current character is a '<' which starts an HTML tag
        if (text.charAt(i) === '<') {
          // Find the end of the HTML tag
          let j = i;
          while (text.charAt(j) !== '>') {
            j++;
          }
          // Append the entire HTML tag at once
          container.innerHTML += text.substring(i, j + 1);
          i = j + 1; // Move i to the character after '>'
        } else {
          // Append the next character to the typing effect container
          container.innerHTML += text.charAt(i);
          i++;
        }

        setTimeout(function() {
          typeWriter(text, i, speed);
        }, speed);
      } else {
        setTimeout(function() {
          document.querySelector('.bubble-button').style.display = 'block';
        }, 1000);
      }
    }
    
    // Start typing effect on page load
    window.onload = function() {
      typeWriter(text, 0, 50); // Adjust speed as needed (lower value for faster typing)
    };
  </script>
</body>
</html>
